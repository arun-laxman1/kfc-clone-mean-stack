<!DOCTYPE html>
<html>
    
    <head>
        <link rel=stylesheet href="MySecondWebPage.css">
        
        <style>
            ol {
                display: table; 
                margin: 0 auto;
                text-align: left;
            }
            h1{
                display: inline;
            }
            h2{
                display: inline;
            }
        </style>
    </head>
    
    
    <body>
        
        <center>
            <div>
                <br><br>
                <h1>Our Branches:</h1>
                <ol>
                    <h2><li>Anna nagar</li></h2>
                    <h2><li>Vadapalani</li></h2>
                    <h2><li>Navalur</li></h2>
                    <h2><li>Teynampet</li></h2>
                    <h2><li>Saidapet</li></h2>
                    <h2><li>Ranipet</li></h2>
                    <h2><li>Royapettah</li></h2>
                    <h2><li>Guindy</li></h2>
                </ol>  
            </div>
        </center>
        
        <center>
        <div id ="map">
            <p>Click here to know your location!</p>
            <button onclick="getLocation()">GET MY LOCATION</button>

        </div>
        </center>
        
        <script>
            
            var para = document.createElement("p");
            
            function getLocation() {
              if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
              } else {
                  var node = document.createTextNode("Geolocation is not supported by this browser.");
                  para.appendChild(node);
              }
            }

            function showPosition(position) {

                  const Http = new XMLHttpRequest();

                  var bigdata_api =
                    "https://api.bigdatacloud.net/data/reverse-geocode-client?latitude="+position.coords.latitude+"&longitude="+position.coords.longitude+"&localityLanguage=en";

                  Http.open("GET", bigdata_api);
                  Http.send();
                  Http.onreadystatechange = function() {
                    if (this.readyState == 4 && this.status == 200) {
                      var myObj = JSON.parse(this.responseText);
                      var message = "You are currently present in" + " " + myObj.locality + ", " + myObj.countryName+".";
                      var node = document.createTextNode(message);
                      para.appendChild(node);
                        
                      var element = document.getElementById("map");
                      element.appendChild(para);
                    }
                  };               
            }
        </script>
    </body>

</html>